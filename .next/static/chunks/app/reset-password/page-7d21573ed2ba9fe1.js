(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[363],{8434:function(e,t,r){Promise.resolve().then(r.bind(r,5389))},5389:function(e,t,r){"use strict";r.r(t);var s=r(9268),n=r(6008),a=r(2469),o=r(2082);r(1818);var c=r(6041),i=r(1513),l=r(6006),d=r(4025),u=r(8358);let p=()=>{let[e,t]=(0,d.Z)(""),r=(0,u.Z)(),[p,h]=(0,l.useState)(!1),b=(0,n.useRouter)(),f=(0,n.useSearchParams)(),x=f.get("code");return x||b.push(o.Z.mainpage),(0,s.jsx)("main",{children:(0,s.jsx)("section",{className:"flex-center my-40",children:(0,s.jsxs)("form",{className:"flex-center-col gap-6",onSubmit:t=>{t.preventDefault(),h(!1),a.Z.ResetPassword(x,e).then(e=>{r(h,e)})},children:[(0,s.jsx)("h4",{className:"text-xl font-medium w-full text-center mb-4",children:"Обновление пароля"}),(0,s.jsx)("input",{placeholder:"Введите новый пароль",value:e,onChange:t,minLength:6,className:"bg-transparent border-b border-b-[#939393] text-[#939393] w-[180px] lg:w-[351px] lg:placeholder:text-2xl lg:h-[45px] ",required:!0}),(0,s.jsx)(i.Z,{type:"secondary",htmlType:"submit",children:"Обновить пароль"}),p&&(0,s.jsx)(c.Z,{children:"Время изменения пароля истекло"})]})})})};t.default=p},1818:function(e,t,r){"use strict";var s=r(9268);let n=e=>{let{label:t,placeholder:r,htmlType:n,onChange:a,value:o,className:c,minLength:i}=e;return(0,s.jsxs)("label",{className:"flex-center justify-between w-full lg:text-[24px]",children:[t,(0,s.jsx)("input",{placeholder:r,type:n,onChange:a,value:o,minLength:i,className:"bg-transparent border-b border-b-[#939393] text-[#939393] w-[180px] lg:w-[351px] lg:placeholder:text-2xl lg:h-[45px] "+"".concat(c),required:!0})]})};t.Z=n},1513:function(e,t,r){"use strict";var s=r(9268);let n=e=>{let{children:t,onClick:r,className:n,htmlType:a="button",type:o="primary",disabled:c,required:i,...l}=e;return"secondary"===o?(0,s.jsx)("button",{className:"bg-white-orange flex items-center justify-center text-[20px] w-[280px] h-[40px] lg:w-[290px] lg:h-[60px] hover:drop-shadow-roundedButton active:bg-darker-orange"+" ".concat(n),type:a,onClick:r,children:t}):"rounded"===o?(0,s.jsx)("button",{className:" w-[280px] lg:w-[120px] flex items-center justify-center py-3 text-sm leading-[14px] bg-white rounded-xl drop-shadow-roundedButton hover:bg-white-orange active:drop-shadow-none disabled:bg-transparent disabled:text-[#939393] disabled:border disabled:border-[#939393] disabled:border-solid"+" ".concat(n),type:a,onClick:r,required:!0,children:t}):"long"===o?(0,s.jsx)("button",{onClick:r,className:"text-[20px] w-[280px] h-[44px] mb-[16px] text-white-orange bg-white border-[1px] border-white-orange text-white md:rounded-[5px] xl:w-[416px]",...l,children:t}):"long-fill"===o?(0,s.jsx)("button",{onClick:r,className:"text-[20px] w-[280px] h-[44px] mb-[16px] bg-white-orange text-white disabled:text-white-black disabled:bg-white disabled:border-white-black disabled:border-[1px] md:rounded-[5px] xl:w-[416px]",disabled:c,...l,children:t}):(0,s.jsx)("button",{className:"bg-white-orange flex items-center justify-center text-base leading-4 w-[120px] py-[11px] hover:drop-shadow-roundedButton active:bg-darker-orange"+" ".concat(n),type:a,onClick:r,disabled:c,children:t})};t.Z=n},6041:function(e,t,r){"use strict";var s=r(9268);let n=e=>{let{children:t,className:r}=e;return(0,s.jsx)("article",{className:"hover:red-yellow-500 w-full mb-2 select-none border-l-4 border-red-400 bg-red-100 p-4 font-medium"+" ".concat(r),children:t})};t.Z=n},8358:function(e,t,r){"use strict";var s=r(6628),n=r(4897),a=r(1459),o=r(2082),c=r(6008);let i=()=>{let e=(0,s.I0)(),t=(0,c.useRouter)();return(r,s)=>{s.error?r(!0):(n.Z.setAccessToken(s.jwt),e((0,a.a)(s.user)),t.push(o.Z.mainpage),setTimeout(()=>{t.push(o.Z.profile)},200))}};t.Z=i},4025:function(e,t,r){"use strict";var s=r(6006);let n=e=>{let[t,r]=(0,s.useState)(e),n=e=>{r(e.target.value)};return[t,n]};t.Z=n},3220:function(e,t,r){"use strict";r.d(t,{k:function(){return a}});var s=r(7539),n=r(2469);let a=(0,s.hg)("user/fetchCurrentUser",async()=>{try{let e=await n.Z.checkUser();if(e.error)return null;return e}catch(e){return null}})},1459:function(e,t,r){"use strict";r.d(t,{a:function(){return o}});var s=r(7539),n=r(3220);let a=(0,s.oM)({name:"user",initialState:{user:null,status:null},reducers:{setUser:(e,t)=>{e.user=t.payload}},extraReducers:{[n.k.pending]:e=>{e.status="loading",e.error=null},[n.k.fulfilled]:(e,t)=>{e.status="resolved",e.user=t.payload}}}),{setUser:o}=a.actions;t.Z=a.reducer},2469:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var s=r(2082),n=r(4897),a="Bearer ".concat("9f1c0e11d151bef6a3c987d3670eeb015c2cd856337886a9ec8cf9ca456e7ab72823cdf96bef053584a31728544818566c66d5811a19bda2dc772cc2f932c7f0433daece538be83c8970c7987d5bbc9ccc34784e97d7c7db3b0df3facc1297de235292a9e05a68bc4bcde9217a7928a44a239d3f751b2f438dbfa8ea8b4bc5ad");let o=new class{register(e,t,r){return fetch("".concat(s.Z.backend,"/api/auth/local/register"),{method:"post",headers:this._headers,body:JSON.stringify({username:e,email:t,password:r})}).then(e=>e.json())}login(e,t){return fetch("".concat(s.Z.backend,"/api/auth/local"),{method:"post",headers:this._headers,body:JSON.stringify({identifier:e,password:t})}).then(e=>e.json())}checkUser(){let e=n.Z.getAccesToken();return fetch("".concat(s.Z.backend,"/api/users/me"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then(e=>e.json())}forgotPassword(e){return fetch("".concat(s.Z.backend,"/api/auth/forgot-password"),{method:"post",headers:this._headers,body:JSON.stringify({email:e})}).then(e=>e.json())}ResetPassword(e,t){return fetch("".concat(s.Z.backend,"/api/auth/reset-password"),{method:"post",headers:this._headers,body:JSON.stringify({code:e,password:t,passwordConfirmation:t})}).then(e=>e.json())}changeProfileData(e,t){return fetch("".concat(s.Z.backend,"/api/users/").concat(t),{method:"put",headers:this._headers,body:JSON.stringify(e)}).then(e=>e.json())}constructor(){this._headers={"Content-Type":"application/json",Authorization:a}}};var c=o},2082:function(e,t){"use strict";t.Z={mainpage:"/",sanctionsRussia:"/sanctions/russia",sanctionsUsa:"/sanctions/usa",sanctionsES:"/sanctions/eu",about:"/about",profile:"/profile",document:"/document",privacy:"/privacy-policy",login:"/login",registration:"/register",forgotPassword:"/forgot-password",accessError:"/access-error",backend:"https://sansearch.ru/strapi",controlTest:"/control-test"}},4897:function(e,t){"use strict";let r=new class{setAccessToken(e){localStorage.setItem("access",e)}getAccesToken(){return localStorage.getItem("access")}logOut(){localStorage.clear()}};t.Z=r},3177:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s=r(6006),n=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,c=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,r){var s,a={},l=null,d=null;for(s in void 0!==r&&(l=""+r),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(d=t.ref),t)o.call(t,s)&&!i.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===a[s]&&(a[s]=t[s]);return{$$typeof:n,type:e,key:l,ref:d,props:a,_owner:c.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},9268:function(e,t,r){"use strict";e.exports=r(3177)},6008:function(e,t,r){e.exports=r(167)}},function(e){e.O(0,[628,539,667,139,744],function(){return e(e.s=8434)}),_N_E=e.O()}]);