(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[535],{2796:function(e,t,r){Promise.resolve().then(r.bind(r,3104)),Promise.resolve().then(r.t.bind(r,414,23)),Promise.resolve().then(r.bind(r,7509))},1818:function(e,t,r){"use strict";var s=r(9268);let n=e=>{let{label:t,placeholder:r,htmlType:n,onChange:a,value:c,className:o,minLength:l}=e;return(0,s.jsxs)("label",{className:"flex-center justify-between w-full lg:text-[24px]",children:[t,(0,s.jsx)("input",{placeholder:r,type:n,onChange:a,value:c,minLength:l,className:"bg-transparent border-b border-b-[#939393] text-[#939393] w-[180px] lg:w-[351px] lg:placeholder:text-2xl lg:h-[45px] "+"".concat(o),required:!0})]})};t.Z=n},7509:function(e,t,r){"use strict";r.r(t);var s=r(9268),n=r(6006),a=r(4025),c=r(1818),o=r(5846),l=r.n(o),i=r(2082),u=r(2469),d=r(8358),f=r(6041);let p=e=>{let{policyUrl:t,concentToDataUrl:r}=e,[o,p]=(0,a.Z)(""),[h,b]=(0,a.Z)(""),[g,m]=(0,a.Z)(""),[x,y]=(0,n.useState)(!1),v=(0,d.Z)();return(0,s.jsxs)("form",{className:"mb-[42px] lg:mb-5 flex-center-col gap-[17px] lg:gap-6 w-full",onSubmit:e=>{e.preventDefault(),g.length<6&&y(!0),y(!1),u.Z.register(o,h,g).then(e=>{v(y,e)})},children:[[{label:"Имя:",htmlType:"text",placeholder:"Введите ваше Имя",onChange:e=>{p(e)},value:o},{label:"Почта:",htmlType:"email",placeholder:"Введите адрес эл.почты",onChange:e=>{b(e)},value:h},{label:"Пароль",htmlType:"password",placeholder:"Введите пароль",onChange:e=>{m(e)},value:g,minLength:6}].map(e=>(0,n.createElement)(c.Z,{...e,key:e.label,className:"w-[162px] lg:w-[309px]"})),(0,s.jsxs)("div",{className:"flex-center items-start gap-[10px]",children:[(0,s.jsx)("input",{type:"checkbox",className:"mt-2 w-[20px] h-[20px]",required:!0}),(0,s.jsxs)("p",{className:"inline my-0 text-[12px] flex-center-col items-start text-[#939393] lg:text-[18px]",children:["Оставляя свои контактные данные, Вы даёте согласие на"," ",(0,s.jsx)(l(),{className:"text-sky-600 underline",target:"_blank",href:i.Z.backend+r,children:"обработку персональных данных"}),"и соглашаетесь"," ",(0,s.jsx)(l(),{className:"text-sky-600 underline",target:"_blank",href:i.Z.backend+t,children:"с политикой конфиденциальности персональных данных"})]})]}),(0,s.jsx)("button",{type:"submit",className:"bg-white-orange py-[8px] w-[256px] flex items-center justify-center hover:drop-shadow-roundedButton active:bg-darker-orange text-[20px] lg:text-[24px] lg:w-[403px] lg:mt-5",children:"Зарегистрироваться"}),x&&(0,s.jsx)(f.Z,{children:g.length<6?"Пароль должен быть минимум 6 символов":"Имя или почта пользователя уже существует"})]})};t.default=p},6041:function(e,t,r){"use strict";var s=r(9268);let n=e=>{let{children:t,className:r}=e;return(0,s.jsx)("article",{className:"hover:red-yellow-500 w-full mb-2 select-none border-l-4 border-red-400 bg-red-100 p-4 font-medium"+" ".concat(r),children:t})};t.Z=n},3104:function(e,t,r){"use strict";r.r(t);var s=r(9268),n=r(6006),a=r(6008),c=r(2082);let o=e=>{let{children:t}=e,r=(0,a.useRouter)();return(0,n.useEffect)(()=>{let e=e=>{if("overlay"!==e.target.id)return null;r.push(c.Z.mainpage)},t=document.querySelector("#overlay");return t.addEventListener("click",e),document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset",t.removeEventListener("click",e)}},[r]),(0,s.jsx)("section",{id:"overlay",className:"fixed top-0 left-0 right-0 flex items-center justify-center w-full h-full bg-[#939393]/60 z-50",children:t})};t.default=o},8358:function(e,t,r){"use strict";var s=r(6628),n=r(4897),a=r(1459),c=r(2082),o=r(6008);let l=()=>{let e=(0,s.I0)(),t=(0,o.useRouter)();return(r,s)=>{s.error?r(!0):(n.Z.setAccessToken(s.jwt),e((0,a.a)(s.user)),t.push(c.Z.mainpage),setTimeout(()=>{t.push(c.Z.profile)},200))}};t.Z=l},4025:function(e,t,r){"use strict";var s=r(6006);let n=e=>{let[t,r]=(0,s.useState)(e),n=e=>{r(e.target.value)};return[t,n]};t.Z=n},3220:function(e,t,r){"use strict";r.d(t,{k:function(){return a}});var s=r(7539),n=r(2469);let a=(0,s.hg)("user/fetchCurrentUser",async()=>{try{let e=await n.Z.checkUser();if(e.error)return null;return e}catch(e){return null}})},1459:function(e,t,r){"use strict";r.d(t,{a:function(){return c}});var s=r(7539),n=r(3220);let a=(0,s.oM)({name:"user",initialState:{user:null,status:null},reducers:{setUser:(e,t)=>{e.user=t.payload}},extraReducers:{[n.k.pending]:e=>{e.status="loading",e.error=null},[n.k.fulfilled]:(e,t)=>{e.status="resolved",e.user=t.payload}}}),{setUser:c}=a.actions;t.Z=a.reducer},2469:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var s=r(2082),n=r(4897),a="Bearer ".concat("9f1c0e11d151bef6a3c987d3670eeb015c2cd856337886a9ec8cf9ca456e7ab72823cdf96bef053584a31728544818566c66d5811a19bda2dc772cc2f932c7f0433daece538be83c8970c7987d5bbc9ccc34784e97d7c7db3b0df3facc1297de235292a9e05a68bc4bcde9217a7928a44a239d3f751b2f438dbfa8ea8b4bc5ad");let c=new class{register(e,t,r){return fetch("".concat(s.Z.backend,"/api/auth/local/register"),{method:"post",headers:this._headers,body:JSON.stringify({username:e,email:t,password:r})}).then(e=>e.json())}login(e,t){return fetch("".concat(s.Z.backend,"/api/auth/local"),{method:"post",headers:this._headers,body:JSON.stringify({identifier:e,password:t})}).then(e=>e.json())}checkUser(){let e=n.Z.getAccesToken();return fetch("".concat(s.Z.backend,"/api/users/me"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then(e=>e.json())}forgotPassword(e){return fetch("".concat(s.Z.backend,"/api/auth/forgot-password"),{method:"post",headers:this._headers,body:JSON.stringify({email:e})}).then(e=>e.json())}ResetPassword(e,t){return fetch("".concat(s.Z.backend,"/api/auth/reset-password"),{method:"post",headers:this._headers,body:JSON.stringify({code:e,password:t,passwordConfirmation:t})}).then(e=>e.json())}changeProfileData(e,t){return fetch("".concat(s.Z.backend,"/api/users/").concat(t),{method:"put",headers:this._headers,body:JSON.stringify(e)}).then(e=>e.json())}constructor(){this._headers={"Content-Type":"application/json",Authorization:a}}};var o=c},2082:function(e,t){"use strict";t.Z={mainpage:"/",sanctionsRussia:"/sanctions/russia",sanctionsUsa:"/sanctions/usa",sanctionsES:"/sanctions/eu",about:"/about",profile:"/profile",document:"/document",privacy:"/privacy-policy",login:"/login",registration:"/register",forgotPassword:"/forgot-password",accessError:"/access-error",backend:"https://sansearch.ru/strapi",controlTest:"/control-test"}},4897:function(e,t){"use strict";let r=new class{setAccessToken(e){localStorage.setItem("access",e)}getAccesToken(){return localStorage.getItem("access")}logOut(){localStorage.clear()}};t.Z=r},3177:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s=r(6006),n=Symbol.for("react.element"),a=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,o=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function i(e,t,r){var s,a={},i=null,u=null;for(s in void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(u=t.ref),t)c.call(t,s)&&!l.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===a[s]&&(a[s]=t[s]);return{$$typeof:n,type:e,key:i,ref:u,props:a,_owner:o.current}}t.Fragment=a,t.jsx=i,t.jsxs=i},9268:function(e,t,r){"use strict";e.exports=r(3177)},5846:function(e,t,r){e.exports=r(414)},6008:function(e,t,r){e.exports=r(167)}},function(e){e.O(0,[414,628,539,667,139,744],function(){return e(e.s=2796)}),_N_E=e.O()}]);