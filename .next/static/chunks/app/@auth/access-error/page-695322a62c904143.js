(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[830],{6153:function(e,t,r){Promise.resolve().then(r.bind(r,9839))},9839:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var s=r(9268),n=r(3104),a=r(3914),c=r(5143),l=r(2082),o=r(6008);let i=e=>{let{name:t}=e,r=(0,o.useRouter)();return t?(0,s.jsx)(n.default,{children:(0,s.jsx)("div",{className:"bg-white w-[300px] lg:w-[606px] flex-center rounded-3xl relative",children:(0,s.jsxs)("article",{className:"w-[260px] lg:w-[480px] flex-center-col gap-10 my-[50px]",children:[(0,s.jsx)("h4",{className:"text-xl lg:text-[32px] text-center",children:"Подписка"}),(0,s.jsxs)("p",{className:"text-center",children:[t,", у Вас не оплачена подписка!"]}),(0,s.jsxs)("p",{className:"text-center flex-center-col text-[#939393]",children:["Подписку можно оплатить в",(0,s.jsx)("p",{onClick:()=>{r.push(l.Z.mainpage),setTimeout(()=>{r.push(l.Z.profile)},200)},className:"text-[#FFC56D] cursor-pointer",children:"личном кабинете"})]})]})})}):(0,s.jsx)(n.default,{children:(0,s.jsx)("div",{className:"bg-white w-[300px] lg:w-[606px] flex-center rounded-3xl relative",children:(0,s.jsxs)("article",{className:"w-[256px] lg:w-[480px] flex-center-col my-[50px]",children:[(0,s.jsx)("h4",{className:"mb-6 lg:mb-[42px] lg:text-[32px] text-center",children:"Для просмотра данной страницы необходимо войти в систему и оплатить подписку"}),(0,s.jsx)(a.default,{}),(0,s.jsxs)("div",{className:"flex-center-col w-full gap-4",children:[(0,s.jsx)("p",{className:"text-[#7a6a6a] text-[12px] lg:text-[18px]",children:"Не зарегистрированы или забыли пароль?"}),(0,s.jsxs)("div",{className:"flex-center justify-between w-full",children:[(0,s.jsx)(c.Z,{href:"/",children:"Регистрация"}),(0,s.jsx)(c.Z,{href:"/",children:"Забыл пароль"})]})]})]})})})},u=()=>{let e=(0,o.useSearchParams)(),t=e.get("name");return(0,s.jsx)(i,{name:t})};var d=u},1818:function(e,t,r){"use strict";var s=r(9268);let n=e=>{let{label:t,placeholder:r,htmlType:n,onChange:a,value:c,className:l,minLength:o}=e;return(0,s.jsxs)("label",{className:"flex-center justify-between w-full lg:text-[24px]",children:[t,(0,s.jsx)("input",{placeholder:r,type:n,onChange:a,value:c,minLength:o,className:"bg-transparent border-b border-b-[#939393] text-[#939393] w-[180px] lg:w-[351px] lg:placeholder:text-2xl lg:h-[45px] "+"".concat(l),required:!0})]})};t.Z=n},3914:function(e,t,r){"use strict";r.r(t);var s=r(9268),n=r(6006),a=r(4025),c=r(1818),l=r(2469),o=r(8358),i=r(6041);let u=()=>{let[e,t]=(0,a.Z)(""),[r,u]=(0,a.Z)(""),[d,f]=(0,n.useState)(!1),p=(0,o.Z)();return(0,s.jsxs)("form",{className:"mb-[42px] lg:mb-5 flex-center-col gap-[17px] lg:gap-6 w-full",onSubmit:t=>{t.preventDefault(),l.Z.login(e,r).then(e=>{p(f,e)})},children:[[{label:"Почта:",htmlType:"email",placeholder:"Введите адрес эл.почты",onChange:e=>{t(e)},value:e},{label:"Пароль:",htmlType:"password",placeholder:"Введите пароль",onChange:e=>{u(e)},value:r}].map(e=>(0,n.createElement)(c.Z,{...e,key:e.label})),(0,s.jsx)("button",{type:"submit",className:"bg-white-orange py-[8px] w-[160px] flex items-center justify-center hover:drop-shadow-roundedButton active:bg-darker-orange text-[20px] lg:text-[24px] lg:w-[318px] lg:mt-5",children:"Войти"}),d&&(0,s.jsx)(i.Z,{children:"Неправильный логин или пароль"})]})};t.default=u},5143:function(e,t,r){"use strict";var s=r(9268),n=r(5846),a=r.n(n);let c=e=>{let{children:t,href:r}=e;return(0,s.jsx)(a(),{href:r,className:"text-[#939393] text-[12px] hover:text-[#FFC56D] lg:text-[18px]",children:t})};t.Z=c},6041:function(e,t,r){"use strict";var s=r(9268);let n=e=>{let{children:t,className:r}=e;return(0,s.jsx)("article",{className:"hover:red-yellow-500 w-full mb-2 select-none border-l-4 border-red-400 bg-red-100 p-4 font-medium"+" ".concat(r),children:t})};t.Z=n},3104:function(e,t,r){"use strict";r.r(t);var s=r(9268),n=r(6006),a=r(6008),c=r(2082);let l=e=>{let{children:t}=e,r=(0,a.useRouter)();return(0,n.useEffect)(()=>{let e=e=>{if("overlay"!==e.target.id)return null;r.push(c.Z.mainpage)},t=document.querySelector("#overlay");return t.addEventListener("click",e),document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset",t.removeEventListener("click",e)}},[r]),(0,s.jsx)("section",{id:"overlay",className:"fixed top-0 left-0 right-0 flex items-center justify-center w-full h-full bg-[#939393]/60 z-50",children:t})};t.default=l},8358:function(e,t,r){"use strict";var s=r(6628),n=r(4897),a=r(1459),c=r(2082),l=r(6008);let o=()=>{let e=(0,s.I0)(),t=(0,l.useRouter)();return(r,s)=>{s.error?r(!0):(n.Z.setAccessToken(s.jwt),e((0,a.a)(s.user)),t.push(c.Z.mainpage),setTimeout(()=>{t.push(c.Z.profile)},200))}};t.Z=o},4025:function(e,t,r){"use strict";var s=r(6006);let n=e=>{let[t,r]=(0,s.useState)(e),n=e=>{r(e.target.value)};return[t,n]};t.Z=n},3220:function(e,t,r){"use strict";r.d(t,{k:function(){return a}});var s=r(7539),n=r(2469);let a=(0,s.hg)("user/fetchCurrentUser",async()=>{try{let e=await n.Z.checkUser();if(e.error)return null;return e}catch(e){return null}})},1459:function(e,t,r){"use strict";r.d(t,{a:function(){return c}});var s=r(7539),n=r(3220);let a=(0,s.oM)({name:"user",initialState:{user:null,status:null},reducers:{setUser:(e,t)=>{e.user=t.payload}},extraReducers:{[n.k.pending]:e=>{e.status="loading",e.error=null},[n.k.fulfilled]:(e,t)=>{e.status="resolved",e.user=t.payload}}}),{setUser:c}=a.actions;t.Z=a.reducer},2469:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var s=r(2082),n=r(4897),a="Bearer ".concat("9f1c0e11d151bef6a3c987d3670eeb015c2cd856337886a9ec8cf9ca456e7ab72823cdf96bef053584a31728544818566c66d5811a19bda2dc772cc2f932c7f0433daece538be83c8970c7987d5bbc9ccc34784e97d7c7db3b0df3facc1297de235292a9e05a68bc4bcde9217a7928a44a239d3f751b2f438dbfa8ea8b4bc5ad");let c=new class{register(e,t,r){return fetch("".concat(s.Z.backend,"/api/auth/local/register"),{method:"post",headers:this._headers,body:JSON.stringify({username:e,email:t,password:r})}).then(e=>e.json())}login(e,t){return fetch("".concat(s.Z.backend,"/api/auth/local"),{method:"post",headers:this._headers,body:JSON.stringify({identifier:e,password:t})}).then(e=>e.json())}checkUser(){let e=n.Z.getAccesToken();return fetch("".concat(s.Z.backend,"/api/users/me"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then(e=>e.json())}forgotPassword(e){return fetch("".concat(s.Z.backend,"/api/auth/forgot-password"),{method:"post",headers:this._headers,body:JSON.stringify({email:e})}).then(e=>e.json())}ResetPassword(e,t){return fetch("".concat(s.Z.backend,"/api/auth/reset-password"),{method:"post",headers:this._headers,body:JSON.stringify({code:e,password:t,passwordConfirmation:t})}).then(e=>e.json())}changeProfileData(e,t){return fetch("".concat(s.Z.backend,"/api/users/").concat(t),{method:"put",headers:this._headers,body:JSON.stringify(e)}).then(e=>e.json())}constructor(){this._headers={"Content-Type":"application/json",Authorization:a}}};var l=c},2082:function(e,t){"use strict";t.Z={mainpage:"/",sanctionsRussia:"/sanctions/russia",sanctionsUsa:"/sanctions/usa",sanctionsES:"/sanctions/eu",about:"/about",profile:"/profile",document:"/document",privacy:"/privacy-policy",login:"/login",registration:"/register",forgotPassword:"/forgot-password",accessError:"/access-error",backend:"https://sansearch.ru/strapi",controlTest:"/control-test"}},4897:function(e,t){"use strict";let r=new class{setAccessToken(e){localStorage.setItem("access",e)}getAccesToken(){return localStorage.getItem("access")}logOut(){localStorage.clear()}};t.Z=r},3177:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s=r(6006),n=Symbol.for("react.element"),a=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,l=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function i(e,t,r){var s,a={},i=null,u=null;for(s in void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(u=t.ref),t)c.call(t,s)&&!o.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===a[s]&&(a[s]=t[s]);return{$$typeof:n,type:e,key:i,ref:u,props:a,_owner:l.current}}t.Fragment=a,t.jsx=i,t.jsxs=i},9268:function(e,t,r){"use strict";e.exports=r(3177)},5846:function(e,t,r){e.exports=r(414)},6008:function(e,t,r){e.exports=r(167)}},function(e){e.O(0,[414,628,539,667,139,744],function(){return e(e.s=6153)}),_N_E=e.O()}]);